# Gestion examen

Une application web back end pour la gestion des examens

## üìã Table des mati√®res

- [Technologies utilis√©es](#technologies-utilis√©es)
- [Pr√©requis](#pr√©requis)
- [Installation](#installation)
- [Utilisation](#utilisation)
- [Endpoints API](#endpoints-api)
- [D√©veloppement](#d√©veloppement)
- [Contribution](#contribution)

## üöÄ Technologies utilis√©es

- **Backend**: PHP 8.4.12 avec Symfony  7.3.3
- **API**: API Platform
- **Base de donn√©es**: POSTGRESQL (via Docker)
- **Conteneurisation**: Docker & Docker Compose
- **Environnement**: Windows avec WSL2 (Ubuntu)
- **ORM**: Doctrine

## üìã Pr√©requis

### Syst√®me
- Windows 11 avec WSL2 activ√©
- Ubuntu install√© via WSL2
- Docker Desktop for Windows
- Docker Compose

### Logiciels
- PHP 8.4 via dockerfile
- Composer via dockerfile
- Git via dockerfile

## üõ†Ô∏è Installation

### 1. Configuration de l'environnement

Assurez-vous que Docker Desktop est install√© avec l'int√©gration WSL2 activ√©e :

1. Ouvrez Docker Desktop
2. Allez dans **Settings** > **Resources** > **WSL Integration**
3. Cochez la case pour votre distribution Ubuntu

### 2. Clonage du projet
# Depuis Ubuntu (WSL2)
```bash
git clone https://github.com/Tovintsoa/exam_management_back.git
 cd exam_management_back
```

### 3. Construction et d√©marrage des services

```bash
# Construction des images Docker
docker compose build --no-cache

# D√©marrage de tous les services
docker compose up -d
```
### 4. Cr√©ation fichier .env.local
Cr√©ez un fichier `.env.local`  avec vos param√®tres locaux :

```env
# Database
DATABASE_URL="postgresql://tovintsoa:tovintsoa@database:5432/exam_management?serverVersion=16&charset=utf8"
```
### 5. Installation des d√©pendances PHP

```bash
# Acc√©der au r√©pertoire du microservice via docker
 docker exec -it  exam_management_back-app-1 bash

# Installation des d√©pendances
composer install

# G√©nerer les API key 
php bin/console lexik:jwt:generate-keypair
```


### 6. Configuration de la base de donn√©es
Ensuite, lancer:
```bash
# Cr√©ation de la base de donn√©es
php bin/console doctrine:database:create

# Ex√©cution des migrations
php bin/console doctrine:migrations:migrate
```
Commande pour laner les fixtures pour avoir un user dans labase 
```bash
php bin/console doctrine:fixtures:load

```
## üíª Utilisation

Acc√®s √† API Platform : http://exam_management.tovintsoa/api/docs
Authentification : 
 - Utilisateur : tianatovintsoa@gmail.com
 - Mot de passe : tovintsoa 


### üì° Endpoints API

| Method | Endpoint      | Description                     |
|--------|--------------|---------------------------------|
| GET    | `/api/exams` | Retrieves the list of exams     |
| POST   | `/api/exams` | Creates a new exam              |
| POST   | `/api/auth`  | Generates a user token (login)  |

## üîß D√©veloppement

### Commandes utiles

```bash
# Voir les logs en temps r√©el
docker compose logs -f

# Ex√©cuter des commandes dans le conteneur
docker compose exec app bash

# G√©n√©rer une nouvelle entit√©
php bin/console make:entity

# Cr√©er une migration
php bin/console make:migration

# Vider le cache
php bin/console cache:clear
```

## ü§ù Contribution

1. Fork le projet
2. Cr√©ez votre branche feature (`git checkout -b feature/nouvelle-fonctionnalite`)
3. Committez vos changements (`git commit -am 'Ajout nouvelle fonctionnalit√©'`)
4. Poussez vers la branche (`git push origin feature/nouvelle-fonctionnalite`)
5. Cr√©ez une Pull Request

## üìÑ Licence

Ce projet est sous licence MIT. Voir le fichier `LICENSE` pour plus de d√©tails.

## üë• Auteurs

- **Tovintsoa** - D√©veloppeur principal